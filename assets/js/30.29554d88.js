(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{579:function(s,t,a){s.exports=a.p+"assets/img/redis-04.cd845f1b.png"},661:function(s,t,a){"use strict";a.r(t);var n=a(21),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"redis-服务相关-备份恢复"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-服务相关-备份恢复"}},[s._v("#")]),s._v(" redis 服务相关& 备份恢复")]),s._v(" "),n("p",[n("strong",[s._v("CLIENT LIST")]),s._v(":以人类可读的格式，返回所有连接到服务器的客户端信息和统计数据。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(579),alt:"image-20200413230227760"}})]),s._v(" "),n("p",[n("strong",[s._v("FLUSHDB")]),s._v(":清空当前数据库中的所有 key。(此命令从不失败)")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("redis"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DBSIZE    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空前的 key 数量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\nredis"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" FLUSHDB\nOK\n\nredis"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DBSIZE    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空后的 key 数量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),n("p",[n("strong",[s._v("FLUSHALL")]),s._v(":清空整个 Redis 服务器的数据(删除所有数据库的所有 key )。(此命令从不失败)")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("redis"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DBSIZE            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0 号数据库的 key 数量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\n\nredis"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到 1 号数据库")]),s._v("\nOK\n\nredis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DBSIZE         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1 号数据库的 key 数量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n\nredis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flushall       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空所有数据库的所有 key")]),s._v("\nOK\n\nredis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DBSIZE         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不但 1 号数据库被清空了")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\nredis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0 号数据库(以及其他所有数据库)也一样")]),s._v("\nOK\n\nredis"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DBSIZE\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);